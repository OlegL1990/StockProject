---


---

<h1 id="демонстрационный-проект-для-работодателей---анализатор-портфеля-ценных-бумаг-выполненный-на-микросервисной-архитектуре.">Демонстрационный проект для работодателей - Анализатор портфеля ценных бумаг выполненный на микросервисной архитектуре.</h1>
<h2 id="концепция-проекта">Концепция проекта</h2>
<p>Пользователь вносит свой портфель ценных  ценных бумаг и по запросу получает аналитическую 	информацию(общая стоимость портфеля, процент акций/облигаций и тд)</p>
<h2 id="требования">Требования</h2>
<ul>
<li>Внесения и хранение в бд портфеля в  простейшем виде(только тикеры и<br>
количество).</li>
<li>Получение данных для аналитики через API бирж.</li>
<li>Кэширование цены акций.</li>
<li>Подключение более чем одной биржи, так как<br>
не все ценные бумаги есть на всех биржах.</li>
</ul>
<h2 id="структура-проекта.">Структура проекта.</h2>
<p>Проект состоит из следующих микросервисов.<br>
<img src="https://raw.githubusercontent.com/OlegL1990/StockProject/master/diagram.png" alt="enter image description here"></p>
<ul>
<li>
<p><strong>UserService</strong><br>
Сервис для взаимодействия с пользователем. Все остальные сервисы с пользователем напрямую не взаимодействуют. Данные о пользователях и их портфелях сохраняются в <strong>MongoDB</strong>. Через этот сервис пользователь может сделать следующие запросы:</p>
<ul>
<li>Создать/обновить/удалить пользователя.</li>
<li>Внести/обновить данные о<br>
портфеле пользователя.</li>
<li>Узнать стоимость всего портфеля пользователя<br>
в рублях.</li>
<li>Узнать стоимость отдельной акции.</li>
</ul>
</li>
<li>
<p><strong>PriceService</strong><br>
Сервис для кэширования цен акций. При первом запросе от UserService проверяет наличие цены акций в своей бд <strong>Redis</strong>. При наличии возвращает это значение в UserService. При отсутствии пробрасывает запрос дальше, сохраняет ответ в Redis и отдает его в UserService. Тут кеширование используется для повышения быстродействия.</p>
</li>
<li>
<p><strong>StockService</strong><br>
Сервис для запроса данных об акциях. При получении запроса от UserService или PriceService, поочередно пытается найти информацию об акциях во всех подключенных биржах.</p>
</li>
<li>
<p><strong>TinkoffService</strong><br>
Сервис для работы с API Тинькова. Так как в тинькове нет функции запроса информации сразу о нескольких акциях батчами, тут реализован <strong>асинхронный</strong> запрос, чтобы была возможность одновременно запрашивать информацию сразу о большом количестве акций.</p>
</li>
<li>
<p><strong>MoexService</strong><br>
Сервис для работы с API Московской биржи. Так как в у Московской биржи стоит лимитатор на примерно 10-20 запросов в час, тут реализовано <strong>кеширование</strong> встроенными спринговскими методами. Тут кеширование используется для обхода ограничений.</p>
</li>
</ul>
<p>Связь между сервисами осуществляется через <strong>HTTP(feign client)</strong><br>
Каждый из сервисов упаковывается с помощью <strong>Docker</strong>.<br>
Поднимается весь проект одним <strong>docker-compose up</strong>.</p>
<h2 id="контакты-для-связи">Контакты для связи</h2>
<p>Telegramm <a href="https://t.me/Hckrmn124">https://t.me/Hckrmn124</a><br>
Почта <a href="mailto:olegl1990@gmail.com">olegl1990@gmail.com</a></p>

